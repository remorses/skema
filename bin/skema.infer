#!/usr/bin/env python
import sys
import json
import enum
from skema.generate import generate_graphql, generate_types, generate_jsonschema, get_result_file
from skema.infer import from_jsonschema

print(sys.argv)
src_path = sys.argv[-1]
target_path = get_result_file(src_path, '.skema')


with open(src_path) as f:
    schema = json.loads(f.read())
    with open(target_path, 'w') as f:
        skema = from_jsonschema(schema, ref_name='X')
        f.write(skema)


